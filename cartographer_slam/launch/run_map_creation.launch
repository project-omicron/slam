<?xml version="1.0" encoding="UTF-8"?>

<launch>
	<arg name="rpsbag_path" default="/home/me/rosbag_files/" />

	<!-- play the rosbag -->
	<node pkg="rosbag" type="play" name="player" output="screen" args="--clock $(arg rpsbag_path)"/>

	<!-- Finish here to run SLAM -->
	<node name="cartographer_node" pkg="cartographer_ros"
			type="cartographer_node" args="
				-configuration_directory $(find cartographer_slam)/config
				-configuration_basename omicron_2d.lua"
			output="screen">
		<remap from="echoes" to="horizontal_laser_2d" />
	</node>

	<node name="cartographer_occupancy_grid_node" pkg="cartographer_ros"
		type="cartographer_occupancy_grid_node" args="-resolution 0.05" />

	<!--launch rviz-->
	<node name="rviz" pkg="rviz" type="rviz" respawn="false" args="-d $(find cartographer_slam)/rviz/cartographer_slam.rviz"/>
</launch>